<safe-modal [closable]="true" size="medium">
  <h1 mat-dialog-title>{{ 'components.preferences.title' | translate }}</h1>
  <mat-dialog-content>
    <form [formGroup]="preferencesForm">
      <safe-tab-settings-options [tabOptionsConfig]="tabSettingsConfig">
        <ng-container ngProjectAs="[selectedTabTemplate]">
          <div class="flex flex-col">
            <!-- LANGUAGE SELECTION -->
            <mat-form-field appearance="outline">
              <mat-label>{{
                'components.preferences.language' | translate
              }}</mat-label>
              <mat-select formControlName="language">
                <mat-option *ngFor="let lang of languages" [value]="lang.value">
                  {{ lang.name | titlecase }}
                </mat-option>
              </mat-select>
            </mat-form-field>
            <!-- DATE LANGUAGE SELECTION -->
            <mat-form-field appearance="outline">
              <mat-label>{{
                'components.preferences.dateFormat' | translate
              }}</mat-label>
              <mat-select formControlName="dateFormat">
                <mat-option
                  *ngFor="let dateLang of dateFormats"
                  [value]="dateLang.value"
                >
                  {{ dateLang.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </ng-container>
      </safe-tab-settings-options>
    </form>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <safe-button mat-dialog-close>{{
      'common.cancel' | translate
    }}</safe-button>
    <safe-button
      category="secondary"
      variant="primary"
      [disabled]="!preferencesForm.valid"
      [mat-dialog-close]="preferencesForm"
      cdkFocusInitial
    >
      {{ 'common.save' | translate }}
    </safe-button>
  </mat-dialog-actions>
</safe-modal>
