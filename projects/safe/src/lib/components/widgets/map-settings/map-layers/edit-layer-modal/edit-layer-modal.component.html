<safe-modal size="fullscreen">
  <div class="flex flex-row gap-4 grow">
    <mat-tab-group
      mat-align-tabs="start"
      animationDuration="0ms"
      vertical
      class="grow basis-2/3"
    >
      <!-- LAYER PROPERTIES -->
      <mat-tab>
        <ng-template mat-tab-label>
          <safe-icon
            icon="settings"
            [size]="24"
            matTooltip="Layer properties"
            matTooltipPosition="right"
          ></safe-icon>
          <span>Layer properties</span>
        </ng-template>
        <ng-template matTabContent>
          <safe-layer-properties
            [form]="form"
            [currentZoom]="currentZoom"
          ></safe-layer-properties>
        </ng-template>
      </mat-tab>

      <!-- LAYER STYLING -->
      <mat-tab [disabled]="!form.get('type')?.value">
        <ng-template mat-tab-label>
          <safe-icon
            icon="layers"
            [size]="24"
            matTooltip="Layer styling"
            matTooltipPosition="right"
          ></safe-icon>
          <span>Layer styling</span>
        </ng-template>
        <ng-template matTabContent>
          <safe-layer-styling [form]="form" class="w-full"></safe-layer-styling>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
    <!-- Map section -->
    <div [id]="mapId" class="grow basis-1/3">
      <div
        class="invisible group-hover:visible absolute bottom-0 px-1 z-[1000] text-gray-300 text-xs"
      ></div>
    </div>
  </div>
  <!-- Dialog actions ( cancel / close ) -->
  <div mat-dialog-actions align="end">
    <safe-button mat-dialog-close>{{ 'common.close' | translate }}</safe-button>
    <safe-button
      category="secondary"
      variant="primary"
      [mat-dialog-close]="form.value"
      cdkFocusInitial
      [disabled]="!form.valid"
    >
      {{ (!layer ? 'common.create' : 'common.update') | translate }}
    </safe-button>
  </div>
</safe-modal>
