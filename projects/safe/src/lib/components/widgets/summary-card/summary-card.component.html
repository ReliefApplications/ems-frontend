<div class="widget-container">
  <kendo-tilelayout-item-header *ngIf="header" class="widget-header">
    <span class="widget-title" [title]="settings.title">{{
      settings.title
    }}</span>
  </kendo-tilelayout-item-header>
  <safe-button
    *ngIf="export"
    [isIcon]="true"
    icon="get_app"
    class="export-button"
    (click)="pdf.saveAs(exportName)"
  ></safe-button>
  <kendo-pdf-export #pdf paperSize="A4" margin="2cm">
    <kendo-tilelayout [columns]="colsNumber" [rowHeight]="200">
      <kendo-tilelayout-item
        *ngFor="let card of settings.cards; let i = index"
        [colSpan]="card.width > colsNumber ? colsNumber : card.width"
        [rowSpan]="card.height"
        class="kendo-tilelayout-item-correction"
      >
        <kendo-tilelayout-item-header class="widget-header">
          <span class="widget-title" [title]="card.title">{{
            card.title
          }}</span>
          <div class="floating-button">
            <button
              mat-button
              color="primary"
              (click)="openDataSource(card)"
              *ngIf="card.showDataSourceLink"
            >
              {{ 'components.widget.summaryCard.dataSource' | translate }}
              <safe-icon icon="open_in_new" [inline]="true"></safe-icon>
            </button>
          </div>
        </kendo-tilelayout-item-header>
        <div
          class="card-content"
          [innerHTML]="cardsContent[i] ? cardsContent[i].html : null"
        ></div>
      </kendo-tilelayout-item>
    </kendo-tilelayout>
  </kendo-pdf-export>
</div>
