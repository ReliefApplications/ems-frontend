<div class="widget-container">
  <kendo-tilelayout-item-header *ngIf="header" class="widget-header">
    <span class="widget-title" [title]="settings.title">{{
      settings.title
    }}</span>
    <ng-container *ngTemplateOutlet="floatingButtons"></ng-container>
  </kendo-tilelayout-item-header>
  <ng-container *ngIf="!header">
    <ng-container *ngTemplateOutlet="floatingButtons"></ng-container>
  </ng-container>
  <!-- GRID CONTENT -->
  <safe-core-grid
    [settings]="settings"
    [admin]="isAdmin"
    [defaultLayout]="layout"
    (defaultLayoutChanged)="defaultLayoutChanged.emit($event)"
    (layoutChanged)="layoutChanged.emit($event)"
    (defaultLayoutReset)="defaultLayoutReset.emit($event)"
  ></safe-core-grid>
</div>

<!-- TEMPLATE OF FLOATING BUTTONS -->
<ng-template #floatingButtons>
  <div class="floating-button">
    <ng-container *ngFor="let floatingButton of settings.floatingButtons">
      <button
        mat-button
        color="primary"
        (click)="onQuickAction(floatingButton)"
        *ngIf="floatingButton.show"
      >
        {{ floatingButton.name }}
      </button>
    </ng-container>
  </div>
</ng-template>
