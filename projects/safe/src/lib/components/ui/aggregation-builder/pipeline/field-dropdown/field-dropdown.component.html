<mat-form-field appearance="outline">
  <mat-label>{{ label || 'common.field.one' | translate }}</mat-label>
  <mat-select [formControl]="fieldControl">
    <mat-option *ngIf="nullable">{{
      'common.input.none' | translate
    }}</mat-option>
    <ng-container *ngFor="let field of fields">
      <mat-option *ngIf="field.type.kind === 'SCALAR'" [value]="field.name">{{
        field.name
      }}</mat-option>
      <mat-optgroup *ngIf="field.type.kind !== 'SCALAR'" [label]="field.name">
        <mat-option
          *ngFor="let subField of field.fields"
          [value]="field.name + '.' + subField.name"
          >{{ subField.name }}</mat-option
        >
      </mat-optgroup>
    </ng-container>
  </mat-select>
</mat-form-field>
