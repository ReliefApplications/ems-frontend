<button
  mat-button
  [class.mdc-button--unelevated]="category === 'secondary'"
  [class.mat-mdc-unelevated-button]="category === 'secondary'"
  [class.mdc-button--outlined]="category === 'tertiary'"
  [class.mat-mdc-outlined-button]="category === 'tertiary'"
  [class.safe-btn-small]="size === 'small'"
  [class.safe-btn-success]="variant === 'success'"
  [class.safe-btn-grey]="variant === 'grey'"
  [color]="color"
  [class.mdc-icon-button]="isIcon"
  [class.mat-mdc-icon-button]="isIcon"
  [disabled]="disabled"
  (click)="emittedEventSubject.next('click')"
>
  <safe-icon
    *ngIf="icon && !loading"
    [class.safe-btn-icon]="!isIcon"
    [icon]="icon"
    [inline]="!isIcon"
  ></safe-icon>
  <safe-spinner
    *ngIf="loading"
    class="safe-btn-spinner"
    size="small"
    [variant]="spinnerVariant"
  ></safe-spinner>
  <ng-content></ng-content>
</button>
