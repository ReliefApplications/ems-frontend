<!-- Header -->
<h2>{{ 'common.field.few' | translate }}</h2>
<!-- Content -->
<!-- Table container -->
<div class="overflow-x-hidden -my-0.5 -mx-1.5">
  <!-- Table scroll container -->
  <div class="overflow-auto py-0.5 px-1.5">
    <table mat-table [dataSource]="fields" *ngIf="fields.data.length > 0">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'common.field.one' | translate }}
        </th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>
      <ng-container matColumnDef="actions" [stickyEnd]="true">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <div style="display: flex">
            <safe-button
              [isIcon]="true"
              [icon]="element.canSee ? 'visibility' : 'visibility_off'"
              [variant]="element.canSee ? 'primary' : 'grey'"
              [disabled]="updating"
              [matTooltip]="
                (element.canSee
                  ? 'components.role.tooltip.allowFieldAccessibility'
                  : 'components.role.tooltip.disallowFieldAccessibility'
                ) | translate: { field: element.name }
              "
              (click)="onEditFieldAccess(element, 'canSee')"
            >
            </safe-button>
            <safe-button
              [isIcon]="true"
              [icon]="element.canUpdate ? 'edit' : 'edit_off'"
              [variant]="element.canUpdate ? 'primary' : 'grey'"
              [disabled]="updating"
              [matTooltip]="
                (element.canUpdate
                  ? 'components.role.tooltip.allowFieldUpdate'
                  : 'components.role.tooltip.disallowFieldUpdate'
                ) | translate: { field: element.name }
              "
              (click)="onEditFieldAccess(element, 'canUpdate')"
            >
            </safe-button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr *matRowDef="let row; columns: displayedColumns" mat-row></tr>
    </table>
  </div>
</div>
