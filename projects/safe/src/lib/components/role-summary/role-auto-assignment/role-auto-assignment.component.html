<div class="header">
  <safe-button
    icon="add"
    variant="primary"
    category="secondary"
    (click)="addRule()"
    >{{
      'components.role.summary.autoAssignment.rule.add' | translate
    }}</safe-button
  >
</div>
<safe-skeleton-table
  *ngIf="loading"
  [columns]="['components.role.summary.autoAssignment.rule.title']"
  [actions]="true"
  [rows]="5"
>
</safe-skeleton-table>
  <!-- Table container -->
  <div class="overflow-x-hidden -my-0.5 -mx-1.5">
    <!-- Table scroll container -->
    <div class="overflow-auto py-0.5 px-1.5">
    <table mat-table [dataSource]="rules" *ngIf="!loading">
      <ng-container matColumnDef="filter">
        <th mat-header-cell *matHeaderCellDef>
          {{ 'components.role.summary.autoAssignment.rule.title' | translate }}
        </th>
        <td mat-cell *matCellDef="let element" class="capitalize">
          {{ getRuleDisplay(element) }}
        </td>
      </ng-container>
      <ng-container matColumnDef="actions" [stickyEnd]="true">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let i = index">
          <div style="display: flex">
            <safe-button
              [isIcon]="true"
              icon="edit"
              variant="grey"
              [matTooltip]="'common.edit' | translate"
              (click)="editRule(i)"
            >
            </safe-button>
            <safe-button
              [isIcon]="true"
              icon="delete"
              variant="grey"
              [matTooltip]="
                'components.role.summary.autoAssignment.rule.delete' | translate
              "
              (click)="deleteRule(i)"
            >
            </safe-button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        *matRowDef="let row; columns: displayedColumns; let i = index"
        mat-row
      ></tr>
    </table>
  </div>
</div>
