<h1 mat-dialog-title>Invite user</h1>
<div mat-dialog-content>
    <form [formGroup]="inviteForm">
        <div class="form-group">
            <label class="invite-label">Search for an existing user</label>
            <mat-form-field>
                <input type="text"
                       placeholder="Type to find an user"
                       aria-label="User"
                       matInput
                       formControlName="user"
                       [matAutocomplete]="auto">
                <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" [displayWith]="displayUser">
                  <mat-option *ngFor="let user of filteredUsers | async" [value]="user">
                    {{user.username}}
                  </mat-option>
                </mat-autocomplete>
                <button mat-button *ngIf="user" matSuffix mat-icon-button aria-label="Clear" (click)="user=''">
                    <mat-icon>close</mat-icon>
                </button>
              </mat-form-field>
            <label class="invite-label">Select the role to assign</label>
            <mat-form-field appearance="outline">
                <mat-label>Role</mat-label>
                <mat-select formControlName="role">
                    <mat-option *ngFor="let role of roles" [value]="role.id">{{ role.title }}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </form>
</div>
<div mat-dialog-actions align="end">
    <button mat-button (click)="onClose()">Close</button>
    <button mat-button [mat-dialog-close]="inviteForm.value" color="primary" [disabled]="!inviteForm.valid">Invite</button>
</div>