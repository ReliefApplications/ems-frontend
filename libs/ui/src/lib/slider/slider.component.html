<!-- Component wrapper -->
<div
  class="relative"
  [ngClass]="{
    'min-value': currentValue === minValue
  }"
  (mouseover)="showTicks()"
  (mouseout)="hideTicks()"
>
  <!-- Bubble -->
  <span
    [ngStyle]="{ left: bubbleStyle }"
    [ngClass]="{
      block: bubbleToShow,
      hidden: !bubbleToShow,
      'bg-gray-400 opacity-80': currentValue === minValue,
      'bg-primary-400': currentValue !== minValue
    }"
    class="transition-all duration-200 absolute px-2 -translate-x-2/4 -translate-y-3/4 text-white rounded-lg"
    >{{ currentValue }}</span
  >
  <!-- Actual input range -->
  <div class="relative max-w-xl">
    <input
      name="slider-min"
      style="--value:{{ currentMinValue }}; --min:{{ minValue }}; --max:{{
        maxValue
      }}"
      class="absolute pointer-events-none appearance-none z-10 h-2 w-full cursor-pointer"
      type="range"
      min="{{ minValue }}"
      max="{{ maxValue }}"
      value="{{ currentMinValue }}"
      step="1"
      (input)="onChangeFunction($event.target)"
    />
    <input
      name="slider-max"
      style="--value:{{ currentMaxValue }}; --min:{{ minValue }}; --max:{{
        maxValue
      }}"
      class="absolute pointer-events-none appearance-none z-20 h-2 w-full cursor-pointer"
      type="range"
      min="{{ minValue }}"
      max="{{ maxValue }}"
      value="{{ currentMaxValue }}"
      step="1"
      (input)="onChangeFunction($event.target)"
    />
  </div>
  <!-- Ticks placement + appearance -->
  <div
    [ngClass]="{
      flex: ticksToShow,
      hidden: !ticksToShow
    }"
    class="block absolute w-full z-10 pointer-events-none transition-all duration-200 justify-between -translate-y-full non_selectable"
  >
    <!-- Ticks definition -->
    <div
      *ngFor="let tick of range"
      class="ticks pointer-events-none non_selectable z-20"
    >
      |
    </div>
  </div>
</div>
