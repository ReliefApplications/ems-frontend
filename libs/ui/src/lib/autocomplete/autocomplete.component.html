<ng-template>
  <div class="relative mt-2 w-full">
    <!-- Search -->
    <ng-container *ngIf="filterable">
      <ng-container *ngTemplateOutlet="search"></ng-container>
    </ng-container>
    <ul
      id="autocompleteList"
      class="z-10 block max-h-60 w-full overflow-auto rounded-md bg-white ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"
    >
      <ng-content></ng-content>
    </ul>
  </div>
  <!-- Search template -->
  <ng-template #search>
    <div
      class="w-full flex shadow-sm !sticky top-0 border-b-gray-300 !h-auto z-10 !bg-white !p-0"
    >
      <input
        class="bg-transparent block w-full px-3 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6 border-0"
        [formControl]="searchControl"
        [placeholder]="'common.placeholder.search' | translate"
        type="text"
      />
      <ui-spinner
        [size]="'medium'"
        *ngIf="loading"
        class="items-center"
      ></ui-spinner>
      <ui-button
        [isIcon]="true"
        icon="close"
        (click)="searchControl.setValue('')"
      ></ui-button>
    </div>
  </ng-template>
</ng-template>
