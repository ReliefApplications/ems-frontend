<div class="flex flex-col overflow-hidden">
  <form [formGroup]="form">
    <!-- Override cluster Symbol -->
    <div class="flex flex-row justify-between my-4">
      <mat-label>{{
        'components.widget.settings.map.edit.cluster.overrideSymbol' | translate
      }}</mat-label>
      <mat-slide-toggle formControlName="overrideSymbol"></mat-slide-toggle>
    </div>
    <!-- Symbol style -->
    <div class="flex flex-col">
      <mat-label class="mb-4">
        {{ 'components.widget.settings.map.edit.cluster.symbol' | translate }}
      </mat-label>
      <safe-icon-picker
        formControlName="symbol"
        [iconList]="iconList"
      ></safe-icon-picker>
    </div>
    <safe-divider></safe-divider>
    <!-- Cluster radius -->
    <div class="flex flex-col my-4">
      <mat-label>
        {{ 'components.widget.settings.map.edit.cluster.radius' | translate }}
      </mat-label>
      <mat-slider min="1" max="100" step="1" [discrete]="true">
        <input matSliderThumb formControlName="radius" />
      </mat-slider>
      <div class="flex flex-row justify-between">
        <mat-label>{{
          'components.widget.settings.map.edit.cluster.low' | translate
        }}</mat-label>
        <mat-label>{{
          'components.widget.settings.map.edit.cluster.high' | translate
        }}</mat-label>
      </div>
    </div>
    <safe-divider></safe-divider>
    <!-- Size range -->
    <div class="flex flex-col my-4">
      <mat-label>
        {{
          'components.widget.settings.map.edit.cluster.sizeRange' | translate
        }}
      </mat-label>
      <mat-slider min="1" max="10" step="1" [discrete]="true">
        <input formControlName="sizeRangeStart" matSliderStartThumb />
        <input formControlName="sizeRangeEnd" matSliderEndThumb />
      </mat-slider>
      <div class="flex flex-row justify-between">
        <mat-label>{{
          'components.widget.settings.map.edit.cluster.min' | translate
        }}</mat-label>
        <mat-label>{{
          'components.widget.settings.map.edit.cluster.max' | translate
        }}</mat-label>
      </div>
    </div>
    <safe-divider></safe-divider>

    <!--  Expansion panels -->
    <mat-accordion>
      <mat-expansion-panel
        *ngFor="let panel of expansivePanels"
        [expanded]="false"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{
              'components.widget.settings.map.edit.cluster.' + panel | translate
            }}
          </mat-panel-title>
        </mat-expansion-panel-header>
      </mat-expansion-panel>
    </mat-accordion>
  </form>
</div>
