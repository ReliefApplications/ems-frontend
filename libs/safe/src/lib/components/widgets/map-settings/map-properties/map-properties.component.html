<form [formGroup]="form" class="overflow-hidden">
  <div class="flex flex-col last:mb-0">
    <h2>
      {{ 'components.widget.settings.map.properties.title' | translate }}
    </h2>
    <div uiFormFieldDirective>
      <label>{{
        'components.widget.settings.map.properties.basemap' | translate
      }}</label>
      <ui-select-menu formControlName="basemap" placeholder="OSM">
        <ui-select-option *ngFor="let map of basemaps" [value]="map">{{
          map
        }}</ui-select-option>
      </ui-select-menu>
    </div>
    <label>
      {{ 'components.widget.settings.map.properties.zoom' | translate }}
      <ui-icon
        icon="info_outline"
        class="cursor-pointer"
        [uiTooltip]="
          'components.widget.settings.map.properties.zoom' | translate
        "
        [size]="18"
        variant="grey"
      ></ui-icon>
    </label>
    <ui-slider
      class="mb-2"
      formControlName="zoom"
      [minValue]="2"
      [maxValue]="18"
    ></ui-slider>
    <div class="flex flex-wrap gap-2">
      <div
        [uiErrorMessage]="
          'components.widget.settings.map.errors.latitude' | translate
        "
        [uiErrorMessageIf]="
          form.controls.centerLat.errors && form.controls.centerLat.touched
        "
        uiFormFieldDirective
        class="flex-1"
      >
        <label>
          {{ 'components.widget.settings.map.properties.latitude' | translate }}
        </label>
        <input type="number" formControlName="centerLat" />
        <ui-icon
          uiSuffix
          icon="info"
          class="cursor-pointer"
          variant="grey"
          [uiTooltip]="
            'components.widget.settings.map.tooltip.default.latitude'
              | translate
          "
        ></ui-icon>
      </div>
      <div
        [uiErrorMessage]="
          'components.widget.settings.map.errors.longitude' | translate
        "
        [uiErrorMessageIf]="
          form.controls.centerLong.errors && form.controls.centerLong.touched
        "
        uiFormFieldDirective
        class="flex-1"
      >
        <label>
          {{
            'components.widget.settings.map.properties.longitude' | translate
          }}
        </label>
        <input type="number" formControlName="centerLong" />
        <ui-icon
          uiSuffix
          icon="info"
          class="cursor-pointer"
          variant="grey"
          [uiTooltip]="
            'components.widget.settings.map.tooltip.default.longitude'
              | translate
          "
        ></ui-icon>
      </div>
    </div>
    <safe-map [header]="false" [settings]="mapSettings"></safe-map>
  </div>
</form>
