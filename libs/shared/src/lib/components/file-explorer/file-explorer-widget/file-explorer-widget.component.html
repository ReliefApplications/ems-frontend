<div class="flex flex-col gap-4 h-full">
  <!-- Toolbar -->
  <shared-file-explorer-toolbar [view]="view"></shared-file-explorer-toolbar>
  <!-- Content -->
  <kendo-splitter class="!flex-1 overflow-hidden">
    <kendo-splitter-pane
      [collapsible]="true"
      [collapsed]="true"
      size="30%"
      [scrollable]="false"
    >
      <div class="h-full">
        <shared-file-explorer-treeview
          [tags]="settings.tags"
          [selectedTags]="selectedTags"
        ></shared-file-explorer-treeview>
      </div>
    </kendo-splitter-pane>

    <kendo-splitter-pane [scrollable]="false">
      <div class="h-full flex flex-col">
        <shared-file-explorer-breadcrumb
          class="flex-shrink-0 h-8"
          [selectedTags]="selectedTags"
        ></shared-file-explorer-breadcrumb>
        <shared-file-explorer-table
          *ngIf="view === 'grid'"
          [loading]="loading"
          [gridData]="documents"
          [total]="total"
          [skip]="skip"
          [sort]="sort"
          (pageChange)="onPageChange($event)"
          (sortChange)="onSortChange($event)"
          (itemClick)="onItemClick($event)"
          class="flex h-[calc(100%-32px)] w-full"
        ></shared-file-explorer-table>
        <shared-file-explorer-list
          *ngIf="view === 'list'"
          [loading]="loading"
          [listData]="documents"
          [total]="total"
          [skip]="skip"
          (pageChange)="onPageChange($event)"
          (itemClick)="onItemClick($event)"
          class="flex-1 w-full"
        ></shared-file-explorer-list>
      </div>
    </kendo-splitter-pane>

    <kendo-splitter-pane
      *ngIf="selectedDocumentId"
      [collapsible]="true"
      [collapsed]="false"
      size="30%"
      [scrollable]="false"
    >
      <div class="h-full">
        <shared-file-explorer-document-properties
          [documentId]="selectedDocumentId"
        ></shared-file-explorer-document-properties>
      </div>
    </kendo-splitter-pane>
  </kendo-splitter>
</div>
