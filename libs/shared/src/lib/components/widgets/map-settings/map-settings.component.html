<ui-tabs
  class="grow"
  [vertical]="true"
  (selectedIndexChange)="selectedIndexChange()"
>
  <!-- Map properties -->
  <ui-tab>
    <ng-container ngProjectAs="label">
      <ui-icon icon="map" [size]="24"> </ui-icon>
      <span>{{
        'components.widget.settings.map.properties.title' | translate
      }}</span>
    </ng-container>
    <ng-template uiTabContent>
      <shared-map-properties
        [form]="widgetFormGroup"
        [mapSettings]="mapSettings"
        [destroyTab$]="destroyTab$"
        [currentMapContainerRef]="currentMapContainerRef"
      ></shared-map-properties>
    </ng-template>
  </ui-tab>
  <!-- Map layers -->
  <ui-tab>
    <ng-container ngProjectAs="label">
      <ui-icon icon="layers" [size]="24"> </ui-icon>
      <span>{{ 'common.layers' | translate }}</span>
    </ng-container>
    <ng-template uiTabContent>
      <shared-map-layers
        [control]="$any(widgetFormGroup.get('layers'))"
        [mapComponent]="mapComponent"
        [destroyTab$]="destroyTab$"
        [currentMapContainerRef]="currentMapContainerRef"
      ></shared-map-layers>
    </ng-template>
  </ui-tab>
  <!-- General widget display -->
  <ui-tab>
    <ng-container ngProjectAs="label">
      <ui-icon icon="settings_overscan" [size]="24"> </ui-icon>
      <span>{{ 'models.widget.display.title' | translate }}</span>
    </ng-container>
    <ng-template uiTabContent>
      <shared-display-settings
        [formGroup]="widgetFormGroup"
      ></shared-display-settings>
    </ng-template>
  </ui-tab>
</ui-tabs>

<div class="hidden">
  <ng-template #mapContainer></ng-template>
</div>
