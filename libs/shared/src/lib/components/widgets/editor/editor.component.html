<div
  class="h-full overflow-auto"
  [ngClass]="{
    'p-[14px]': usePadding
  }"
  (click)="onClick($event)"
>
  <div *ngIf="!loading; else loadingTmpl" class="w-full h-fit">
    <shared-html-widget-content
      [html]="formattedHtml"
      [style]="formattedStyle"
    ></shared-html-widget-content>
  </div>
</div>
<ng-template #headerTemplate>
  <div class="overflow-hidden flex-1 flex gap-1 items-center">
    <span class="widget-title" [title]="settings.title">{{
      settings.title
    }}</span>
    <span
      *ngIf="settings.widgetDisplay?.tooltip"
      class="widget-tooltip"
      [title]="settings.widgetDisplay.tooltip"
      >?</span
    >
  </div>
  <div class="flex">
    <!-- Data source button -->
    <ui-button
      variant="primary"
      icon="open_in_new"
      (click)="openDataSource()"
      *ngIf="showDataSourceButton"
    >
      {{ 'components.widget.summaryCard.dataSource' | translate }}
    </ui-button>
  </div>
</ng-template>

<ng-template #loadingTmpl>
  <div class="flex h-full">
    <ui-spinner class="m-auto"></ui-spinner>
  </div>
</ng-template>
