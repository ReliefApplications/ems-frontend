<div
  class="h-full overflow-auto"
  [ngClass]="{
    'p-[14px]': usePadding
  }"
  (click)="onClick($event)"
>
  <div
    *ngIf="!loading; else loadingTmpl"
    class="w-full h-fit"
    (click)="onClick($event)"
  >
    <shared-html-widget-content
      [html]="formattedHtml"
      [style]="formattedStyle"
    ></shared-html-widget-content>
  </div>
</div>
<ng-template #headerTemplate>
  <span class="flex gap-2 items-center">
    <span class="widget-title" [title]="settings.title">
      {{ settings.title }}
    </span>
    <ui-icon
      *ngIf="settings.widgetDisplay?.tooltip?.display"
      class="cursor-help"
      icon="help"
      variant="primary"
      [size]="24"
      [uiTooltip]="settings.widgetDisplay.tooltip.content"
    ></ui-icon>
  </span>
  <div class="flex">
    <!-- Data source button -->
    <ui-button
      variant="primary"
      icon="open_in_new"
      (click)="openDataSource()"
      *ngIf="showDataSourceButton"
    >
      {{ 'components.widget.summaryCard.dataSource' | translate }}
    </ui-button>
  </div>
</ng-template>

<ng-template #loadingTmpl>
  <div class="flex h-full">
    <ui-spinner class="m-auto"></ui-spinner>
  </div>
</ng-template>
