<!-- Loading indicator -->
<ui-spinner
  class="flex justify-center items-center h-screen"
  *ngIf="loading"
></ui-spinner>
<!-- Application wrapper -->
<shared-layout
  *ngIf="!loading"
  [toolbar]="toolbar"
  [route]="route"
  [leftSidenav]="pages"
  [sideMenu]="sideMenu"
></shared-layout>
<ng-template #toolbar>
  <shared-app-application-toolbar
    [title]="title"
    [settings]="adminNavItems"
    [canUpdate]="application?.canUpdate!"
    [showActions]="true"
  ></shared-app-application-toolbar>
</ng-template>
<!--Need the nav variable, don't remove let-nav, used in layout-->
<ng-template #pages let-nav>
  <shared-navbar
    [nav]="nav"
    [navGroups]="navGroups"
    [appLayout]="true"
    [canAddPage]="application?.canUpdate!"
    [vertical]="!(!sideMenu && largeDevice)"
    (reorder)="onReorder($event)"
  ></shared-navbar>
</ng-template>
